:root{
  --tn-radius-xl: 24px;
  --tn-bg: #ffffff;
  --tn-text: #1f2937;
  --tn-muted: #6b7280;
  --tn-border: #e5e7eb;
  --tn-purple: #6e5cf5;
  --tn-purple-2: #9b8cff;
  --tn-shadow: 0 10px 30px rgba(110,92,245,.18);
}

/* Hard-disable Mathlive built-in keyboard (safety net) */
.ML__keyboard { display: none !important; visibility: hidden !important; }

/* Hide Mathlive menu & internal toggle inside the field */
math-field.tn-chat-mathfield .ML__menu-toggle,
math-field.tn-chat-mathfield .ML__virtual-keyboard-toggle,
math-field.tn-chat-mathfield .ML__popover,
math-field.tn-chat-mathfield .ML__toolbar { display: none !important; }

/* Make placeholder boxes obvious */
math-field.tn-chat-mathfield .ML__placeholder {
  background: rgba(110,92,245,.10);
  box-shadow: inset 0 0 0 1.5px #9b8cff;
  border-radius: 6px;
  min-width: 0.9em; 
  min-height: 1.1em;
}

.tn-bubble{
  display:flex; align-items:center; gap:.75rem;
  background:var(--tn-bg);
  border:1px solid var(--tn-border);
  border-radius:var(--tn-radius-xl);
  padding:.6rem .75rem;
  box-shadow: var(--tn-shadow);
  width: 100%;
  max-width: 100%;
}
.tn-plus, .tn-send{
  width:42px;height:42px;border-radius:14px;border:none;cursor:pointer;
  background:#eef2ff;color:#333;display:grid;place-items:center;
  flex-shrink: 0;
}
.tn-send{ background: linear-gradient(180deg, var(--tn-purple), var(--tn-purple-2)); color:#fff; }

.tn-chat-mathfield{
  flex:1;
  --caret-color: var(--tn-purple);
  --selection-background-color: rgba(110,92,245,.16);
  --selection-color: var(--tn-text);
  outline:none; border:none; background:transparent;
  font-size:18px; line-height:1.4;
  min-width: 0; /* Allow flex item to shrink */
  width: 100%;
}

.tn-text-input{
  flex:1; border:none; background:transparent;
  font-size:18px; line-height:1.4; color:#1f2937; outline:none;
}
.tn-text-input::placeholder{ color:#9ca3af; }

.tn-suggestions{ display:flex; gap:.5rem; flex-wrap:wrap; margin:.5rem 0; }
.tn-chip{
  background:#f3f4f6; border:1px solid #e5e7eb; color:#374151;
  padding:.35rem .6rem; border-radius:9999px; font-size:.85rem;
}

.tn-toolbar{ display:flex; gap:.5rem; margin-top:.5rem; }
.tn-tab{
  background:#f5f3ff; color:#4338ca; border:1px solid #e5e7eb;
  border-radius:16px; padding:.45rem .75rem;
}
.tn-tab.tn-active{ background:#ede9fe; border-color:#c7d2fe; }

.tn-pad{
  margin-top:.6rem;
  background:#ffffff;
  border:1px solid var(--tn-border);
  border-radius: var(--tn-radius-xl);
  padding:.6rem;
  box-shadow: var(--tn-shadow);
}
.tn-grid{
  display:grid; grid-template-columns: repeat(4, minmax(0,1fr)); gap:.5rem;
}
.tn-row{ display:flex; gap:.5rem; margin-top:.5rem; }
.tn-key{
  background:#f8fafc; border:1px solid #e5e7eb; color:#111827;
  border-radius:16px; padding:.7rem 0; font-size:1rem; font-weight:500;
}
.tn-key:active{ transform:translateY(1px); }
.tn-btn{
  border-radius:16px; padding:.7rem 1rem; border:1px solid #e5e7eb;
  background:#f8fafc; font-weight:600;
}
.tn-fx{ background:#eef2ff; color:#4338ca; }
.tn-next{ background: linear-gradient(180deg, var(--tn-purple), var(--tn-purple-2)); color:#fff; border:none; }

/* Mobile-specific adjustments */
@media (max-width: 768px) {
  .tn-chat-wrapper {
    margin-bottom: 0;
    width: 100%;
    max-width: 100%;
  }
  
  .tn-suggestions {
    display: none; /* Hide suggestions on mobile to save space */
  }
  
  .tn-bubble {
    padding: .5rem .6rem;
    width: 100%;
    max-width: 100%;
  }
  
  .tn-plus, .tn-send {
    width: 36px;
    height: 36px;
  }
  
  .tn-chat-mathfield, .tn-text-input {
    font-size: 16px;
    min-width: 0;
  }
} 